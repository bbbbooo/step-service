<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <title>Header</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.7.0/flowbite.min.js"></script>
</head>
<body>
<!--
This example requires updating your template:

```
<html class="h-full bg-blue-100">
<body class="h-full">
```
-->
    <!-- https://tailwindui.com/components/application-ui/application-shells/stacked -->
    <div class=" max-w-full min-h-full">
        <header class="bg-white shadow">
            <div class="flex ax-w-3xl md:mx-auto py-6 sm:px-6 lg:px-8 space-x-6">
                <a href="/">
                    <img class="inline w-60 h-20" th:src="@{/assets/img/step_logo.svg}" alt="로고"/>
                </a>
                <div class="grow"></div>
                <div class="flex items-center gap-x-6">


                    <a sec:authorize="isAnonymous()" href="/oauth/signup" class="rounded-md bg-slate-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-slate-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">회원가입/로그인</a>
                    <a sec:authorize="hasAnyRole('USER')" href="/logout" class="rounded-md bg-slate-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-slate-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">로그아웃</a>

<!--                    <a sec:authorize="hasAnyRole('ROLE_USER')" href="/logout" class="rounded-md bg-slate-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-slate-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">로그아웃</a>-->
<!--                    <a sec:authorize="hasAnyRole('ROLE_ADMIN')" href="/member/admin-list" class="rounded-md bg-slate-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-slate-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">관리자페이지</a>-->
<!--                    <a sec:authorize="hasAnyRole('ROLE_MEMBER', 'ROLE_ADMIN')" href="/member/my-page" class="rounded-md bg-slate-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-slate-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">마이페이지</a>-->
<!--                    <a sec:authorize="hasAnyRole('ROLE_MEMBER', 'ROLE_ADMIN')" href="/review/review" class="rounded-md bg-slate-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-slate-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">리뷰쓰기</a>-->
<!--                    <a sec:authorize="hasAnyRole('ROLE_MEMBER', 'ROLE_ADMIN')" href="/request" class="rounded-md bg-slate-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-slate-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">식품 등록 요청</a>-->

                </div>
            </div>
        </header>
    </div>

    <nav class="bg-slate-200">
        <div class="max-w-screen-xl items-center justify-between mx-auto p-4">
            <div class="bg-slate-200 hidden w-full md:block md:w-auto" id="navbar-dropdown">
                <ul class="bg-slate-200 flex flex-col font-medium p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 md:mt-0 md:border-0 md:bg-slate-200">
                    <li>
                        <button id="dropdownQuestionLink" data-dropdown-toggle="dropdownQuestion" class="ml-8 bg-slate-200 flex items-center justify-between w-full py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 md:w-auto">
                            AI 영어문제추천
                            <svg class="w-2.5 h-2.5 ml-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
                            </svg>
                        </button>
                        <div id="dropdownQuestion" class="z-10 hidden font-normal bg-white divide-y divide-gray-100 rounded-lg shadow w-44">
                            <ul class="py-2 text-sm text-gray-700 " aria-labelledby="dropdownLargeButton">
                                <li>
                                    <a href="/questions?type=blank" class="block px-4 py-2 hover:bg-gray-100">빈칸추론</a>
                                </li>
                                <li>
                                    <a href="/questions?type=title" class="block px-4 py-2 hover:bg-gray-100">제목추론</a>
                                </li>
                            </ul>
                        </div>
                    </li>

                    <li>
                        <button id="dropdownWorkBook" data-dropdown-toggle="dropdownWorkBookLeague" class="ml-8 bg-slate-200 flex items-center justify-between w-full py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 md:w-auto">
                            문제집 리그
                            <svg class="w-2.5 h-2.5 ml-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
                            </svg>
                        </button>
                        <div id="dropdownWorkBookLeague" class="z-10 hidden font-normal bg-white divide-y divide-gray-100 rounded-lg shadow w-44">
                            <ul class="py-2 text-sm text-gray-700 " aria-labelledby="dropdownLargeButton">
                                <li>
                                    <a href="/board" class="block px-4 py-2 hover:bg-gray-100">문제집 풀기</a>
                                </li>
                            </ul>
                        </div>

                <li>
                    <button id="dropdownMyStudyLink" data-dropdown-toggle="dropdownEtc" class="ml-24 w-full bg-slate-200 flex items-center justify-between w-full py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 md:w-auto">
                        나의 학습현황
                    </button>
                    <div id="dropdownEtc" class="z-10 hidden font-normal bg-white divide-y divide-gray-100 rounded-lg shadow w-44 absolute mt-10 ml-24">
                        <ul class="py-2 text-sm text-gray-700" aria-labelledby="dropdownEtcLink">
                            <li>
                                <a href="#" class="block px-4 py-2 hover-bg-gray-100">나의 학습현황</a>
                            </li>
                            <li>
                                <a href="/scrap/myPage/myScrap" class="block px-4 py-2 hover-bg-gray-100">나의 스크랩</a>
                            </li>
                            <li>
                                <a href="/workbook/myPage/myWorkBook" class="block px-4 py-2 hover-bg-gray-100">나의 문제집</a>
                            </li>
                        </ul>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const dropdownMyStudyLink = document.getElementById("dropdownMyStudyLink");
        const dropdownMenu = document.getElementById("dropdownEtc");

        // 마우스 호버 시 드롭다운 메뉴를 펼치는 함수
        dropdownMyStudyLink.addEventListener("mouseenter", function () {
            dropdownMenu.classList.remove("hidden");
        });

        // "나의 학습현황" 버튼에서 마우스가 벗어날 때 드롭다운 메뉴 닫힘
        dropdownMyStudyLink.addEventListener("mouseleave", function () {
            setTimeout(function() {
                if (!dropdownMenu.matches(':hover')) {
                    dropdownMenu.classList.add('hidden');
                }
            }, 300);
        });

        // 드롭다운 메뉴 영역 밖을 마우스가 벗어나면 닫는 함수
        dropdownMenu.addEventListener("mouseleave", function () {
            setTimeout(function() {
                if (!dropdownMyStudyLink.matches(':hover')) {
                    dropdownMenu.classList.add('hidden');
                }
            }, 300);
        });
    });
</script>
</body>
</html>